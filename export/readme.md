# Экспорт данных меша из Blender (2.78c)

Скрипт экспортирует все мешы (MESH) сцены в файлы формата JSON названные в соответствии с именем меша в Blender. Перед экспортом меш разбивается на треугольники (triangulate) оптимизируя данные для вывода посредством glDrawElements.

Экспортированные меши сохраняют локальные координаты (координаты относительно пивота, точки вокруг которой вращается меш). Перетаскивание меша как объекта в другое место сцены не изменит выходные данные, все координаты будут установлены так, будто меш находится по координатам 0, 0, 0.

Выходной JSON файл состоит из двух массивов:

* vertices - массив вершин

* indices - индексы вершин треугольников

## Массив вершин - vertices

Массив вершин состоит из объектов описывающих вершину

* x, y, z - координаты вершины

* nx, ny, nz - вектор нормали

* u, v - текстурные координаты

## Массив индексов - indices

Последовательно идущие индексы вершин треугольников для вывода в режиме GL_TRIANGLES.

# Установка и работа

* Запустить Blender

* Загрузить или создать сцену

* Открыть режим редактора текста (Text Editor)

* Загрузить текст скрипта

* В скрипте указать папку в которую будут сохраняться данные (path)

* Запустить скрипт (Alt+P)

Если все прошло удачно в папке сохранения должны появиться JSON файлы названные в соответствии с именами мешей. Для мониторинга ошибок рекомендуется открыть консоль (window/Togle System Console)
